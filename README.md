# 2-Link Robotic Arm Simulation (SolidWorks & MATLAB/Simulink)

This project, based on the Thapar Institute of Technology Robotics Lab file, details the process of designing a 2-link planar robotic arm in SolidWorks, exporting it to MATLAB/Simulink using Simscape Multibody, and implementing a PID control system to follow a desired trajectory.

## Project Overview

The primary goal is to control the end-effector (gripper) of a 2-link robotic arm to follow a specific path. This is achieved by:

- **Modeling**: Creating the 3D parts (base, arm 1, arm 2) in SolidWorks.
- **Exporting**: Using the Simscape Multibody Link add-on to export the SolidWorks assembly into an .xml file that MATLAB can understand.
- **Importing**: Using the `smimport` command in MATLAB to generate a complete Simscape Multibody model (.slx file) of the robot's physical structure.
- **Controlling**: Building a closed-loop control system in Simulink around the imported mechanical model.
- **Simulation**: Running the simulation to visualize the arm's behavior in both a 2D plot and the 3D Mechanics Explorer.

## Key Images

Here are the key components of the project, as referenced in the documentation.

1. **SolidWorks Assembly**: The complete 3D model of the 2-link arm.
2. **Simulink Control Diagram**: The high-level block diagram showing the entire control loop.
3. **Mechanical Components**:

| Part 0: Base Link | Part 1: Arm 1 | Part 2: Arm 2 |
| :---: | :---: | :---: |
|  |  |  |

4. **Final Simulation**: The arm's motion visualized in the Simscape Mechanics Explorer.

## File Structure

```/2-link-arm-simulation
|
+-- /solidworks
| |-- Part_0_Link_0.SLDPRT (SolidWorks part file for the base)
| |-- Part_1_Arm_1.SLDPRT (SolidWorks part file for the first link)
| |-- Part_2_Arm_2.SLDPRT (SolidWorks part file for the second link)
| +-- Two_link_ROBOTIC_ARM_ASSEMBLY.SLDASM (The main assembly file)
|
+-- /matlab
| |-- Two_link_ROBOTIC_ARM_ASSEMBLY.xml (Exported from SolidWorks)
| |-- Two_link_ROBOTIC_ARM_ASSEMBLY.slx (The Simulink model generated by smimport)
| |-- forward_kinematics.m (MATLAB function for Forward Kinematics)
| |-- inverse_kinematics.m (MATLAB function for Inverse Kinematics)
| |-- desired_trajectory.m (MATLAB function to generate the path)
| +-- setup_simulation.m (Main script to set parameters and run the sim)
|
```

## Core Control Components (MATLAB Code)

The control diagram relies on several key MATLAB functions to work. These blocks are typically implemented as "MATLAB Function" blocks within Simulink.

- **`desired_trajectory.m`**: Generates the desired (x, y) coordinates for the end-effector at a given time t.
- **`inverse_kinematics.m`**: Takes the desired (x, y) coordinates and calculates the required joint angles (theta1_d, theta2_d) for the two motors.
- **PID Controllers**: Two separate PID controllers compare the desired angles (theta1_d, theta2_d) with the actual measured angles from the model and output a torque command.
- **`forward_kinematics.m`**: Takes the actual joint angles (theta1_a, theta2_a) from the simulation and calculates the actual (x, y) position of the end-effector for plotting.

## How to Run

### SolidWorks:

1. Create all parts (.SLDPRT) and assemble them (.SLDASM).
2. Ensure the "Simscape Multibody Link" add-on is installed and enabled (Tools > Add-Ins).
3. Export the assembly (Tools > Simscape Multibody Link > Export) to generate the .xml file.

### MATLAB:

1. Place the .xml file in your /matlab project directory.
2. Open MATLAB and navigate to this directory.
3. In the command window, run:
   ```

   smimport('Two_link_ROBOTIC_ARM_ASSEMBLY.xml')
    ```
   This will automatically generate the Two_link_ROBOTIC_ARM_ASSEMBLY.slx file.

4. Open the .slx file. It will contain the mechanical model.
5. Build the control system around it as shown in the "Simulink Control Diagram" image.
6. Configure the "Desired_Trajectory", "Inverse_Kinematics", and "Forward_Kinematics" blocks to use the generated MATLAB functions.
7. Run the setup_simulation.m script to initialize parameters (link lengths, PID gains).
8. Run the Simulink simulation.

## Dependencies
SolidWorks

MATLAB

Simulink

Simscape

Simscape Multibody

Simscape Multibody Link (Add-on for SolidWorks & MATLAB)
